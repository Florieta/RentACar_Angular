@if (isLoading) {
    <app-loader />
  }@else{<div class="container">
    <h2>Add a Car</h2>
    <form #carForm="ngForm" (ngSubmit)="submitCar(carForm)">
      <div class="form-group">
        <label for="make">Make</label>
        <input type="text" id="make" class="form-control" [(ngModel)]="formValues.make" name="make" required />
      </div>
  
      <div class="form-group">
        <label for="model">Model</label>
        <input type="text" id="model" class="form-control" [(ngModel)]="formValues.model" name="model" required />
      </div>
  
      <div class="form-group">
        <label for="regNumber">Registration Number</label>
        <input type="text" id="regNumber" class="form-control" [(ngModel)]="formValues.regNumber" name="regNumber" required />
      </div>
  
      <div class="form-group">
        <label for="makeYear">Make Year</label>
        <input type="number" id="makeYear" class="form-control" [(ngModel)]="formValues.makeYear" name="makeYear" required />
      </div>
  
      <div class="form-group">
        <label for="seats">Seats</label>
        <input type="number" id="seats" class="form-control" [(ngModel)]="formValues.seats" name="seats" required />
      </div>
  
      <div class="form-group">
        <label for="doors">Doors</label>
        <input type="number" id="doors" class="form-control" [(ngModel)]="formValues.doors" name="doors" required />
      </div>
  
      <div class="form-group">
        <label for="fuel">Fuel</label>
        <select id="fuel" class="form-control" [(ngModel)]="formValues.fuel" name="fuel" required>
          <option value="Diesel">Diesel</option>
          <option value="Petrol">Petrol</option>
          <option value="LPG">LPG</option>
          <option value="Hybrid">Hybrid</option>
          <option value="Electric">Electric</option>
        </select>
      </div>
  
      <div class="form-group">
        <label for="transmission">Transmission</label>
        <select id="transmission" class="form-control" [(ngModel)]="formValues.transmission" name="transmission" required>
          <option value="Automatic">Automatic</option>
          <option value="Manual">Manual</option>
        </select>
      </div>
  
      <div class="form-group">
        <label for="airCondition">Air Conditioning</label>
        <input type="checkbox" id="airCondition" [(ngModel)]="formValues.airCondition" name="airCondition" />
      </div>
  
      <div class="form-group">
        <label for="navigationSystem">Navigation System</label>
        <input type="checkbox" id="navigationSystem" [(ngModel)]="formValues.navigationSystem" name="navigationSystem" />
      </div>
  
      <div class="form-group">
        <label for="dailyRate">Daily Rate</label>
        <input type="number" id="dailyRate" class="form-control" [(ngModel)]="formValues.dailyRate" name="dailyRate" required />
      </div>
  
      <div class="form-group">
        <label for="imageUrl">Car Image</label>
        <input type="file" id="imageUrl" (change)="onFileChange($event)" class="form-control" />
        @if(formValues.imageUrl){
            <div>
                <img [src]="formValues.imageUrl" alt="Image Preview" width="100" />
            </div>
        }
      </div>

      <div class="form-group">
        <label for="categoryId">Category</label>
        <select
          id="categoryId"
          name="categoryId"
          class="form-control"
          [(ngModel)]="formValues.categoryId"
          required
        >
          <option value="" disabled>Select a Category</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{ category.categoryName }}
          </option>
        </select>
      </div>
      <div class="form-group">
        <button
          type="submit"
          class="form-button"
          [disabled]="carForm.invalid"
        >
          Submit 
        </button>
      </div>
    </form>
  </div>
}
  